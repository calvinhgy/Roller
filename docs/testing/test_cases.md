# Roller - 测试用例文档

## 功能测试用例

### 1. 游戏初始化测试

| 测试ID | TC-INIT-001 |
|--------|-------------|
| 测试名称 | 游戏正常初始化 |
| 前置条件 | 用户访问游戏URL |
| 测试步骤 | 1. 打开Safari浏览器<br>2. 访问游戏URL<br>3. 等待加载完成 |
| 预期结果 | 1. 游戏加载进度条显示<br>2. 加载完成后显示主菜单<br>3. 背景音乐开始播放 |
| 优先级 | 高 |

| 测试ID | TC-INIT-002 |
|--------|-------------|
| 测试名称 | 设备方向权限请求 |
| 前置条件 | 用户首次打开游戏 |
| 测试步骤 | 1. 打开游戏<br>2. 点击"开始游戏"按钮 |
| 预期结果 | 1. 浏览器显示设备方向权限请求<br>2. 用户允许后游戏正常启动<br>3. 用户拒绝后显示替代控制方式提示 |
| 优先级 | 高 |

| 测试ID | TC-INIT-003 |
|--------|-------------|
| 测试名称 | 离线启动测试 |
| 前置条件 | 用户曾经访问过游戏并已缓存资源 |
| 测试步骤 | 1. 启用飞行模式<br>2. 打开Safari浏览器<br>3. 访问游戏URL |
| 预期结果 | 游戏应正常加载并显示主菜单，提示用户处于离线模式 |
| 优先级 | 中 |

### 2. 设备方向控制测试

| 测试ID | TC-CTRL-001 |
|--------|-------------|
| 测试名称 | 基本方向控制 |
| 前置条件 | 游戏已加载第一关卡 |
| 测试步骤 | 1. 将设备向左倾斜<br>2. 将设备向右倾斜<br>3. 将设备向前倾斜<br>4. 将设备向后倾斜 |
| 预期结果 | 小球应分别向左、右、前、后方向滚动，移动速度与倾斜角度成正比 |
| 优先级 | 高 |

| 测试ID | TC-CTRL-002 |
|--------|-------------|
| 测试名称 | 方向校准功能 |
| 前置条件 | 游戏已加载关卡 |
| 测试步骤 | 1. 点击屏幕上的校准按钮<br>2. 保持设备水平<br>3. 确认校准 |
| 预期结果 | 1. 校准倒计时显示<br>2. 校准完成后，水平持握设备时小球应保持静止 |
| 优先级 | 中 |

| 测试ID | TC-CTRL-003 |
|--------|-------------|
| 测试名称 | 触摸备选控制 |
| 前置条件 | 设备方向控制不可用或被禁用 |
| 测试步骤 | 1. 在屏幕左侧区域点击<br>2. 在屏幕右侧区域点击<br>3. 在屏幕上方区域点击<br>4. 在屏幕下方区域点击 |
| 预期结果 | 小球应分别向左、右、前、后方向滚动 |
| 优先级 | 中 |

### 3. 物理系统测试

| 测试ID | TC-PHYS-001 |
|--------|-------------|
| 测试名称 | 碰撞检测 |
| 前置条件 | 游戏已加载包含墙壁的关卡 |
| 测试步骤 | 1. 控制小球向墙壁滚动<br>2. 观察小球与墙壁的碰撞 |
| 预期结果 | 1. 小球应在接触墙壁时停止或反弹<br>2. 不应出现穿墙现象<br>3. 碰撞时应播放适当的音效 |
| 优先级 | 高 |

| 测试ID | TC-PHYS-002 |
|--------|-------------|
| 测试名称 | 斜面滚动 |
| 前置条件 | 游戏已加载包含斜面的关卡 |
| 测试步骤 | 1. 将小球引导至斜面顶部<br>2. 观察小球在斜面上的滚动 |
| 预期结果 | 1. 小球应沿斜面加速滚动<br>2. 滚动速度应与斜面角度成正比 |
| 优先级 | 中 |

| 测试ID | TC-PHYS-003 |
|--------|-------------|
| 测试名称 | 摩擦力效果 |
| 前置条件 | 游戏已加载包含不同材质地面的关卡 |
| 测试步骤 | 1. 控制小球在普通地面上滚动后释放控制<br>2. 控制小球在冰面上滚动后释放控制<br>3. 控制小球在粗糙地面上滚动后释放控制 |
| 预期结果 | 1. 普通地面：小球应逐渐减速停止<br>2. 冰面：小球应继续滑行较长距离<br>3. 粗糙地面：小球应快速减速停止 |
| 优先级 | 中 |

### 4. 关卡系统测试

| 测试ID | TC-LEVEL-001 |
|--------|-------------|
| 测试名称 | 关卡加载 |
| 前置条件 | 用户位于关卡选择界面 |
| 测试步骤 | 1. 选择任意关卡<br>2. 等待关卡加载 |
| 预期结果 | 1. 显示加载进度<br>2. 关卡正确加载<br>3. 小球位于起点位置 |
| 优先级 | 高 |

| 测试ID | TC-LEVEL-002 |
|--------|-------------|
| 测试名称 | 关卡完成 |
| 前置条件 | 游戏已加载关卡 |
| 测试步骤 | 1. 控制小球到达终点区域 |
| 预期结果 | 1. 显示关卡完成动画<br>2. 显示完成时间和星级评价<br>3. 提供"下一关"和"重玩"选项 |
| 优先级 | 高 |

| 测试ID | TC-LEVEL-003 |
|--------|-------------|
| 测试名称 | 关卡重置 |
| 前置条件 | 游戏已加载关卡 |
| 测试步骤 | 1. 点击重置按钮 |
| 预期结果 | 1. 小球回到起点位置<br>2. 计时器重置<br>3. 关卡状态完全重置 |
| 优先级 | 中 |

### 5. 用户界面测试

| 测试ID | TC-UI-001 |
|--------|-------------|
| 测试名称 | 主菜单功能 |
| 前置条件 | 游戏已加载至主菜单 |
| 测试步骤 | 1. 点击"开始游戏"<br>2. 返回主菜单<br>3. 点击"设置"<br>4. 点击"关于" |
| 预期结果 | 1. 进入关卡选择界面<br>2. 成功返回主菜单<br>3. 显示设置界面<br>4. 显示关于界面 |
| 优先级 | 高 |

| 测试ID | TC-UI-002 |
|--------|-------------|
| 测试名称 | 游戏内HUD |
| 前置条件 | 游戏已加载关卡 |
| 测试步骤 | 1. 观察屏幕上的计时器<br>2. 点击暂停按钮<br>3. 在暂停菜单中点击"继续" |
| 预期结果 | 1. 计时器正常递增<br>2. 游戏暂停，显示暂停菜单<br>3. 游戏继续，计时器继续计时 |
| 优先级 | 中 |

| 测试ID | TC-UI-003 |
|--------|-------------|
| 测试名称 | 设置界面功能 |
| 前置条件 | 用户位于设置界面 |
| 测试步骤 | 1. 调整音乐音量滑块<br>2. 调整音效音量滑块<br>3. 切换控制方式<br>4. 点击"保存" |
| 预期结果 | 1. 音乐音量实时变化<br>2. 音效音量实时变化<br>3. 控制方式成功切换<br>4. 设置保存并返回上一界面 |
| 优先级 | 中 |

### 6. 性能测试

| 测试ID | TC-PERF-001 |
|--------|-------------|
| 测试名称 | 帧率稳定性 |
| 前置条件 | 游戏已加载复杂关卡 |
| 测试步骤 | 1. 启用FPS计数器<br>2. 正常游玩关卡5分钟<br>3. 记录帧率变化 |
| 预期结果 | 帧率应稳定保持在50FPS以上 |
| 优先级 | 高 |

| 测试ID | TC-PERF-002 |
|--------|-------------|
| 测试名称 | 内存使用 |
| 前置条件 | 游戏从启动开始测试 |
| 测试步骤 | 1. 启动游戏<br>2. 加载并完成3个不同关卡<br>3. 监控内存使用 |
| 预期结果 | 内存使用应保持在100MB以下，不应出现明显的内存泄漏 |
| 优先级 | 中 |

| 测试ID | TC-PERF-003 |
|--------|-------------|
| 测试名称 | 电池消耗 |
| 前置条件 | 设备电量充足 |
| 测试步骤 | 1. 记录初始电量<br>2. 持续游玩30分钟<br>3. 记录最终电量 |
| 预期结果 | 电量消耗不应超过15% |
| 优先级 | 低 |

## 兼容性测试用例

### 1. 设备兼容性

| 测试ID | TC-COMPAT-001 |
|--------|-------------|
| 测试名称 | iPhone型号兼容性 |
| 测试设备 | iPhone 13 Pro, iPhone 12, iPhone SE (2022), iPhone 11, iPad Pro |
| 测试步骤 | 1. 在每台设备上启动游戏<br>2. 加载第一关卡<br>3. 完成关卡 |
| 预期结果 | 所有设备上游戏应正常运行，UI元素正确显示，无明显性能差异 |
| 优先级 | 高 |

| 测试ID | TC-COMPAT-002 |
|--------|-------------|
| 测试名称 | iOS版本兼容性 |
| 测试环境 | iOS 14.0, iOS 15.0, iOS 16.0 |
| 测试步骤 | 1. 在每个iOS版本上启动游戏<br>2. 测试核心功能 |
| 预期结果 | 所有iOS版本上游戏应正常运行，功能完整 |
| 优先级 | 高 |

| 测试ID | TC-COMPAT-003 |
|--------|-------------|
| 测试名称 | 屏幕方向兼容性 |
| 前置条件 | 游戏已加载 |
| 测试步骤 | 1. 在竖屏模式下启动游戏<br>2. 旋转设备至横屏模式<br>3. 旋转回竖屏模式 |
| 预期结果 | 1. 游戏应自动适应屏幕方向<br>2. UI元素正确重排<br>3. 游戏状态保持不变 |
| 优先级 | 中 |

### 2. 网络兼容性

| 测试ID | TC-NET-001 |
|--------|-------------|
| 测试名称 | 弱网环境测试 |
| 测试环境 | 网络限速至3G水平(1-5 Mbps) |
| 测试步骤 | 1. 在弱网环境下启动游戏<br>2. 加载关卡<br>3. 正常游玩 |
| 预期结果 | 1. 游戏应显示适当的加载提示<br>2. 加载完成后游戏应正常运行<br>3. 不应出现功能异常 |
| 优先级 | 中 |

| 测试ID | TC-NET-002 |
|--------|-------------|
| 测试名称 | 网络中断恢复测试 |
| 前置条件 | 游戏已加载并正在游玩 |
| 测试步骤 | 1. 启用飞行模式中断网络<br>2. 继续游玩5分钟<br>3. 禁用飞行模式恢复网络 |
| 预期结果 | 1. 显示网络中断提示<br>2. 游戏功能不受影响<br>3. 网络恢复后自动同步数据 |
| 优先级 | 中 |

## 可访问性测试用例

| 测试ID | TC-ACCESS-001 |
|--------|-------------|
| 测试名称 | 颜色对比度测试 |
| 前置条件 | 游戏UI界面 |
| 测试步骤 | 1. 检查所有文本与背景的对比度<br>2. 使用对比度分析工具验证 |
| 预期结果 | 所有文本元素应符合WCAG 2.1 AA级标准(对比度≥4.5:1) |
| 优先级 | 中 |

| 测试ID | TC-ACCESS-002 |
|--------|-------------|
| 测试名称 | 替代控制方式测试 |
| 前置条件 | 设备方向控制不可用 |
| 测试步骤 | 1. 启用触摸控制模式<br>2. 完成一个关卡 |
| 预期结果 | 应能使用触摸控制完成关卡，体验流畅 |
| 优先级 | 高 |

## 安全测试用例

| 测试ID | TC-SEC-001 |
|--------|-------------|
| 测试名称 | 数据存储安全测试 |
| 前置条件 | 游戏已保存用户进度 |
| 测试步骤 | 1. 使用开发工具检查本地存储<br>2. 分析存储的数据结构和内容 |
| 预期结果 | 1. 不应存储任何个人身份信息<br>2. 游戏数据应使用安全方式存储 |
| 优先级 | 中 |

| 测试ID | TC-SEC-002 |
|--------|-------------|
| 测试名称 | 权限使用测试 |
| 前置条件 | 首次启动游戏 |
| 测试步骤 | 1. 观察权限请求<br>2. 检查权限使用情况 |
| 预期结果 | 1. 只请求必要的设备方向权限<br>2. 不应请求位置、相机等敏感权限 |
| 优先级 | 高 |

## 回归测试用例

| 测试ID | TC-REG-001 |
|--------|-------------|
| 测试名称 | 功能回归测试 |
| 前置条件 | 完成新功能开发或bug修复 |
| 测试步骤 | 1. 执行所有关键功能测试用例<br>2. 重点测试修改相关功能 |
| 预期结果 | 所有功能应正常工作，无新引入的问题 |
| 优先级 | 高 |

| 测试ID | TC-REG-002 |
|--------|-------------|
| 测试名称 | 性能回归测试 |
| 前置条件 | 完成性能优化 |
| 测试步骤 | 1. 执行所有性能测试用例<br>2. 与基准性能数据比较 |
| 预期结果 | 性能指标应保持或优于基准水平 |
| 优先级 | 中 |

## 测试数据

### 测试关卡数据

1. **基础测试关卡**：简单平面迷宫，包含基本墙壁和终点
2. **物理测试关卡**：包含各种斜面、不同材质地面和移动障碍物
3. **性能测试关卡**：包含大量物体和复杂几何形状
4. **教程关卡**：包含游戏指导和简单挑战

### 测试设备方向数据序列

1. **静止序列**：设备保持水平静止
2. **简单倾斜序列**：单一方向的渐进倾斜
3. **复杂倾斜序列**：多方向组合倾斜
4. **快速变化序列**：模拟用户快速改变设备方向
